<?xml version="1.0" encoding="UTF-8" ?>
<table name="article">

	<delete id="deleteArticleByArticleId">
		<input name="articleId" jdbcType="INTEGER"></input>
		<sql>
			delete from article where article_id = #{articleId,jdbcType=INTEGER}
		</sql>
	</delete>
	
	<insert id="insertArticle">
		<input name="article"></input>
		<sql>
			insert into article(title,author,content,article_type,keywords,visit_count,create_year,create_month,create_day,create_time,modify_year,modify_month,modify_day,modify_time)
  			value(#{title},#{author},#{content},#{articleType},#{keywords},0,date_format(now(),'%Y'),date_format(now(),'%m'),date_format(now(),'%d'),date_format(now(),'%r'),date_format(now(),'%Y'),date_format(now(),'%m'),date_format(now(),'%d'),date_format(now(),'%r'))
		</sql>
	</insert>
	
	<update id="UpdateArticleByArticleId">
		<input name="article"></input>
		<sql>
			update article 
  			set title=#{title},
  			author=#{author} ,
  			content=#{content},
  			article_type=#{articleType},
  			keywords=#{keywords},
  			modify_year=date_format(now(),'%Y'),
  			modify_month=date_format(now(),'%m'),
  			modify_day=date_format(now(),'%d'),
  			modify_time=date_format(now(),'%r')
  			where article_id=#{articleId}
		</sql>
	</update>
	
	<select id="selectArticleByArticleId" result="single">
		<input name="articleId" jdbcType="INTEGER"></input>
		<sql>
			select * from article where article_id = #{articleId,jdbcType=INTEGER}
		</sql>
	</select>
	
	<select id="selectAllArticleInfo" result="multiply">	
		<sql>
    		select 
    		article_id,title,author,article_type,keywords,visit_count,create_year,create_month,create_day,create_time,modify_year,modify_month,modify_day,modify_time
    		from article order by article_id desc
		</sql>
	</select>
	
	<select id="selectArticleByArticleType" result="multiply" >
		<input name="articleType" jdbcType="VARCHAR"></input>
		<sql>
			select * from article where article_type = #{articleType,jdbcType=VARCHAR}
		</sql>
  	</select>
</table>